---
page_title: Configure dashboards and alerts
description: TODO
---

As the number of services you manage and maintain grows, manually managing monitoring components like dashboards and alerts become unsustainable. This can lead to inconsistencies across environments, observability gaps where issues go undetected, and potential security risks. We recommend adopting monitoring-as-code (MaC) to manage these configurations to solve these challenges as your organization scales.

With monitoring-as-code (MaC), you can adopt many of the best practices as infrastructure-as-code (IaC), such as:

  - Consistent configuration: MaC lets you consistently deploy standardized monitoring setups across teams and environments. Terraform lets you create modules that include standard monitoring configurations with built-in reasonable defaults. A range of monitoring tools also offer official Terraform providers and modules your organization can use.

  For example, the team responsible for ensuring data integrity can make changes to the Terraform modules and propagate those changes throughout the organization.
  - Automated provisioning: As your organization scales, you can configure infrastructure and service deployments to automatically trigger monitoring dashboards.
  - Auditable changes: All changes to monitoring components are traceable through version control.
  - Policy-compliant resources: You can use Sentinel and Open Policy Agent (OPA) to ensure your monitoring resources are secure and compliant with your organization's policies.

While the codified approach offers significant benefits, designing complex monitoring dashboards and alert rules directly in code can be challenging initially. 

To balance this, we recommend an iterative workflow: First, leverage your monitoring tool's UI to visually design and build dashboards, layouts, and alert rules. This allows you to fully utilize the robust querying capabilities and intuitive interfaces provided by monitoring solutions. Once you have functional prototypes, import those configurations into Terraform code and standardize them as a Terraform module. From there, your organization can consume and modify the Terraform modules to create consistent monitoring dashboards and alerts across your infrastructure and services. 

This approach combines the flexibility of visually designing your dashboards first with the consistency and maintainability of managing it as code.

External resources:
  - New Relic's [article](https://newrelic.com/blog/best-practices/the-importance-of-monitoring-as-code-for-modern-enterprises) provides additional insights into why organizations should adopt monitoring-as-code.

### Deploy vendor monitoring tools

Terraform makes it easy to deploy and manage various vendor monitoring tools through official providers and modules. Terraform has over 200 partner and community providers for logging and monitoring — some popular ones include DataDog, New Relic, Grafana, and Splunk. With these providers, you can automatically provision the monitoring tool, and its resources like dashboard alerts.

Many monitoring vendors also contribute to OpenTelemetry (OTel). OpenTelemetry provides a standardized way to generate and export telemetry data like metrics, traces, and logs from your applications. The OpenTelemetry agent collects this data from your applications. Instead of deploying separate agents for each vendor monitoring tool, you can configure the OTel agent to export data to multiple backends simultaneously. For example, you can send metrics to Datadog, traces to Honeycomb, and logs to Splunk from the same Otel agent.

With Terraform, you have a unified approach to manage and operate all different monitoring systems through a single, automated workflow defined in code. Terraform lets you define the exact configuration you want for everything – from the OpenTelemetry agents collecting data (Refer to GCE example in external resources) to backend monitoring tools like DataDog, New Relic, Grafana, and others.

HashiCorp resources:

  - The [Terraform Datadog provider](/terraform/tutorials/applications/datadog-provider) tutorial guides you through how to use Terraform to deploy an application in EKS and install the DataDog agent across the Kubernetes cluster.
  - Terraform Registry hosts over 200 [Logging and Monitoring](https://registry.terraform.io/browse/providers?category=logging-monitoring) partner and community providers. You should be able to find a provider to manage your monitoring tool of choice. This includes popular providers such as the [New Relic Terraform provider](https://registry.terraform.io/providers/newrelic/newrelic/latest/docs) and [DataDog Terraform provider](https://registry.terraform.io/providers/DataDog/datadog/latest/docs).

External resources:

  - The [Deploying OpenTelemetry (OTel) agent to your GCE instances](https://liveramp.com/blog/deploying-opentelemetry-agent-to-your-gce-instances/) article provides insights from LiveRamp as they automatically deploy OTel agents using Terraform on their Google Cloud instances.
  - DataDog provides a [quick start guide](https://www.datadoghq.com/blog/managing-datadog-with-terraform/) where they walk you through creating dashboards, deploying monitors and alerts, and integrating into AWS. This guide uses the resources in the DataDog provider module. 

  - New Relic provides resources on implementing monitoring-as-code (MaC) with Terraform:
    - The [Automate your configuration with observability as code](https://newrelic.com/blog/how-to-relic/examples-observability-as-code-part-one) tutorial covers the importance of codifying monitoring using HCL.
    - A three-part series guides you through using Terraform with JSON to create and dynamically generate New Relic dashboards:
      - [Creating dashboards with Terraform and JSON templates](https://newrelic.com/blog/how-to-relic/create-nr-dashboards-with-terraform-part-1) guides you through quickly updating New Relic dashboards with Terraform by using JSON templates
      - [Dynamically creating New Relic dashboards with Terraform](https://newrelic.com/blog/how-to-relic/create-nr-dashboards-with-terraform-part-2) guides you through using JSON templates to create dynamic dashboards
      - [Using Terraform to generate New Relic dashboards from NRQL queries](https://newrelic.com/blog/how-to-relic/create-nr-dashboards-with-terraform-part-3) guides you through using Terraform and NRQL queries to generate dashboards with dynamic data


### Deploy cloud native

Many cloud providers, such as AWS, Azure, and Google Cloud, offer their own monitoring services, which can effectively monitor infrastructure metrics and application logs. With Terraform, you can use cloud provider resources and specific monitoring modules to deploy and manage your cloud-native monitoring infrastructure without installing additional monitoring agents.

HashiCorp resources:

  - AWS maintains the [AWS Integration and Automation (IA) Terraform modules](https://registry.terraform.io/namespaces/aws-ia) - the [`cloudwatch-log-group`](https://registry.terraform.io/modules/aws-ia/cloudwatch-log-group/aws/latest) module deploys and manages an AWS Cloudwatch log group along with the corresponding IAM permissions. The [Terraform AWS provider](https://registry.terraform.io/providers/hashicorp/aws/latest/docs) contains CloudWatch resources that Terraform can create and manage such as the [`aws_cloudwatch_dashboard`](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_dashboard) resource. 
  - Azure maintains [Azure Verified Modules](https://azure.github.io/Azure-Verified-Modules/indexes/terraform/tf-resource-modules/#available-modules) - the [avm-res-operationalinsights-workspace](https://registry.terraform.io/modules/Azure/avm-res-operationalinsights-workspace/azurerm/latest) module deploys and manages a Log Analytics Workspace with reasonable defaults. The [Azure Terraform provider](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs) contains the resources you need to deploy monitoring for your application in Azure such as [`azurerm_portal_dashboard`](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/portal_dashboard) and [`azurerm_monitor_metric_alert`](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/monitor_metric_alert).  
  - Google maintains a [cloud operations module](https://registry.terraform.io/modules/terraform-google-modules/cloud-operations/google/latest) that manages Google Cloud's operations suite (Cloud Logging and Monitoring). The [Terraform Google Cloud provider](https://registry.terraform.io/providers/hashicorp/google/latest/docs) page provides Google Cloud Monitoring resources that Terraform can create and manage such as the [`google_monitoring_dashboard`](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/monitoring_dashboard) resource. 

External resources:

  - Andrei Maksimov's [tutorial with a video](https://hands-on.cloud/terraform-cloudwatch-examples/) guides you through how to automate alarms, dashboards, and logs in the AWS CloudWatch service.
  - Azure's [Multi-cloud monitoring](https://learn.microsoft.com/en-us/azure/azure-monitor/best-practices-multicloud) article guides you through setting up Azure Monitor to monitor your services and infrastructure across different clouds, and ingest cloud native metrics and telemetry information into your existing monitoring solution.