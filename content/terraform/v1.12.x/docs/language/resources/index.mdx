---
page_title: Create and manage resources
description: >-
  Learn how to configure `resource` blocks that describe infrastructure objects in Terraform configurations.
---

# Resources overview

Add `resource` blocks to your Terraform configuration to create infrastructure objects, such as virtual networks, compute instances, or higher-level components such as DNS records. This topic provides overview information about creating and managing resources in Terraform. For an overview of how to provision infrastructure, refer to [How does Terraform work?](/terraform/intro#how-does-terraform-work)

For details about configuring a `resource` block, refer to your provider documentation and the [`resource` block reference](/terraform/language/block/resource). The `resource` block reference describes the native Terraform [meta-arguments](/terraform/language/meta-arguments) you can set in the `resource` block.

> **Hands-on:** Try the [Terraform: Get Started](/terraform/tutorials/aws-get-started?utm_source=WEBSITE&utm_medium=WEB_IO&utm_offer=ARTICLE_PAGE&utm_content=DOCS) tutorials.

## How Terraform applies a configuration

When you apply a configuration, Terraform performs the following operations:

1. Creates resources in the configuration that do not yet exist as real infrastructure objects.
1. Destroys resources that exist in the state but no longer exist in the configuration.
1. Update any resources in place if their arguments have changed.
1. Destroy and re-create resources whose arguments have changed but cannot be updated in-place due to remote API limitations.
1. Update the [state file](#state) so that the configuration, real infrastructure, and state file match. 

Terraform applies this process for all resources, regardless of type, but the details are specific to each resource type. 

## State

Terraform stores identifiers for real objects it manages in a [state file](/terraform/language/state) named `terraform.tfstate`. This file is the source of truth for the infracture you manage with Terraform. To modify the state of your infrastructure, update the Terraform configuration and run a `terraform apply` command. 

For `resource` blocks that already manage an infrastructure object in the state, Terraform compares the actual configuration of the object with the arguments given in the configuration and makes any necessary updates so that the object matches the configuration.

## Configuration

Each `resource` block describes one or more infrastructure objects. In most cases, you should refer to your provider documentation for guidance on how to define resources. 

### Resource type

You must declare a type for each `resource` block you add to your configuration. The type determines the kind of infrastructure object the `resource` block manages and what arguments the resource supports. Most resource types are implemented by your provider, but Terraform includes a native resource type, [`terraform_data`](/terraform/language/resources/terraform-data), that you can use to create resources for specialized use cases. 

### Provider 

[Providers](/terraform/language/providers/requirements) are plugins for Terraform that offer a collection of resource types managing a single cloud or on-premises infrastructure platform. Providers are distributed separately from Terraform, but Terraform can automatically install most providers when initializing a working directory.

To manage resources, a Terraform module must specify the required providers. Refer to 
[Provider requirements](/terraform/language/providers/requirements) for more information.

Most providers require authentication settings, version requirements, or other arguments to access their remote APIs. Terraform expects provider configuration in the root module. Refer to [Provider configuration](/terraform/language/providers/configuration) for more information.

### Provider documentation

Terraform providers write and maintain their own documentation, which describes its resource
types and arguments. Refer to the public [Terraform registry](https://registry.terraform.io/browse/providers) for all publicly-available provider documentation.

Note that provider documentation is versioned to match the provider. Verify that you are viewing the correct documentation for your provider version.

### Provider arguments

Most of the arguments within the body of a `resource` block are specific to the
selected resource type. The resource type's documentation lists which arguments
are required and how to format their values.

You can use Terraform [expressions](/terraform/language/expressions) and other dynamic Terraform
language features to configure resource arugment values. 

### Terraform arguments

The Terraform language also includes built-in arguments called [meta-arguments](/terraform/language/meta-arguments) that you can use with any resource type. Instead of configuring the behavior of the resources, meta-arguments configure how Terraform creates and manages resources. The following examples describe some of the ways you can use meta-arguments in your `resource` blocks.

#### Custom condition checks

Add `precondition` and `postcondition` blocks to specify assumptions and guarantees about how the resource operates. These blocks can help future maintainers understand the configuration design and intent. They also return useful information about errors earlier and in context so that consumers can diagnose issues in their configuration. Refer to [Validate your configuration](/terraform/language/test-and-validate/validate) for instructions on creating custom condition checks.  

For an example configuration, refer to [Apply custom conditions](/terraform/language/block/resource#apply-custom-conditions)

#### Multiple provider configurations

Terraform uses a resource type's name to determine which provider to use. By convention, resource type names start with their provider's preferred local name. You can declare multiple provider configurations in your configuration and configure each resource to use a different configuration. When using multiple configurations, use [the `provider` meta-argument](/terraform/language/block/resource#provider) to manually choose a provider configuration. 

For an example configuration, refer to [Select an alternate provider configuration](/terraform/language/block/resource#select-an-alternate-provider-configuration).


#### Specify resource dependencies

In most cases, Terraform updates unrelated resources in parallel and automatically manages dependencies. Terraform analyzes [expressions](/terraform/language/expressions) within a `resource` block to find references to other objects and treats those references as the implicit order requirements when creating, updating, or destroying resources. Most resources with
behavioral dependencies on other resources also refer to those resources' data. As a result, you do not usually need to manually specify dependencies between resources.

Occasionally, you may need to specify the order in which Terraform creates some resources. This is necessary when a resource's configuration requires information generated by another resource and Terraform is unable to implicitly determine dependencies in the configuration. For example, when Terraform manages access control policies and must perform an operation that requires the policies to be created first, there is a hidden dependency between the access policy and a resource whose creation depends on it. 

You can use the following methods to control the order that Terraform follows to create resources:

- Add the [`depends_on` meta-argument](/terraform/language/block/resource#depends_on) to the `resource` block and reference the upstream resource that Terraform must create first. For an example configuration, refer to [Specify a dependency](/terraform/language/block/resource#specify-a-dependency).

- Add [`replace_triggered_by` lifecycle rule](/terraform/language/block/resource#replace_triggered_by) to the `resource` block.  This argument adds dependencies between independent resources by forceing Terraform to replace the parent resource when there is a change to a referenced resource or resource attribute. For an example configuration, refer to [Specify triggers that replace resources](/terraform/language/block/resource#specify-triggers-that-replace-resources).

### Operation timeouts

Some resource types provide include a `timeouts` argument that lets you to customize how long certain operations. When the operation exceeds the `timeouts` configuraiton, the operation fails. For example, [`aws_db_instance`](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_instance) allows configurable timeouts for `create`, `update`, and `delete` operations.

Each resource type in the provider handles timeouts differently and the set of configurable operations is determined by each resource type. Most resource types do not support the `timeouts` block. Consult the
documentation for each resource type to see which operations it offers
for configuration, if any. Resource types that offer these features conform to the following convention:

- The resource supports a child block called `timeouts`.
- The child block contains a nested argument named after each operation that has a configurable timeout value.
- Each of these arguments takes a string representation of a duration, such as `"60m"` for 60 minutes, `"10s"` for ten seconds, or `"2h"` for two hours.

The following example configures how long Terraform runs before timing out when creating and deleting `example` AWS database instance: 

```hcl
resource "aws_db_instance" "example" {
  # ...

  timeouts {
    create = "60m"
    delete = "2h"
  }
}
```

### Access resource attributes

Use the `<RESOURCE TYPE>.<NAME>.<ATTRIBUTE>` expression syntax to access information about resources in the same module. This lets you configure other resources using values that are only available at runtime. Refer to the [expressions reference](/terraform/language/expressions) details about writing expressions. For more information about referencing resource attributes in expressions, refer to
[References to Resource Attributes](/terraform/language/expressions/references#references-to-resource-attributes).

Many providers also include [data sources](/terraform/language/data-sources) that you can query with a [`data` block](/terraform/language/block/data). Data sources are specialized resources for looking up read-only attributes from the remote API, such as the resource's unique random ID. 

Refer to your provider documentation for a list of the attributes a resource or data source type provides.

## Local-only resources

Some resources that you can create are specialized types that operate only within Terraform. These resources calculate results and save them in the state for future use. Refer to the following local-only resource types for examples:

- [`tls_private_key`](https://registry.terraform.io/providers/hashicorp/tls/latest/docs/resources/private_key). This resource generates private keys for TLS connections.
- [`tls_self_signed_cert`](https://registry.terraform.io/providers/hashicorp/tls/latest/docs/resources/self_signed_cert) issues self-signed TLS certificates.
- [`random_id`](https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/id) generates random IDs.

You can configure local-only resources as you would other resources, but
their resulting data exist only within the Terraform state. Destroying local-only resources removes it from the state and discards its data. There is no corresponding actual infracture to delete from your cloud provider.

## Refactor resources

Changing the inline label argument for a `resource` block changes its local name and address in state. As a result, Terraform recognizes it as a different resource, destroys it, and creates a new resource during the next apply operation. Refactoring `resource` blocks into different folders and files in the workspace directory, which is how you would [collect configurations into reusable modules](/terraform/language/modules/develop), also causes Terraform to destroy existing resources before creating entirely new resources.  

Use the [`moved` block](/terraform/language/block/moved) when you need to refactor resources without affecting the existing actual infrastructure the `resource` block represents. Refer to [Refactor modules](/terraform/language/modules/develop/refactoring) for instructions.  

## Destroy resources

When you no longer need a real infrastructure object, you can remove its `resource` block from the configuration and run `terraform apply`. Terraform destroys the actual resource and removes it from state. You must also update any `output` blocks and dependencies that reference the resource's data. Refer to [destroy a resource](/terraform/language/resources/destroy) for more information.

You can also use the [`removed` block](/terraform/language/block/removed) to remove a resource from state without destroying the actual infrastructure object. Terraform no longer manages resources that are not in state, which may be useful when another team or system is expected to manually manage the resource. Refer to [Remove a resource from state](/terraform/language/resources/remove) for more information.  
