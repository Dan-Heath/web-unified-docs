---
page_title: publish_output block reference for Terraform Stack deployments
description: Use the `publish_output` block to export values from your Stack that other Stacks in the same project can consume.
---

# `publish_output` block reference

Use the `publish_output` block to export values from your Stack that other Stacks in the same project can consume.

> **Hands-on:** Try the [Pass Data Between Stacks](/terraform/tutorials/stacks/pass-data-between-stacks) tutorial.

## Background

The `publish_output` block specifies a value to export from your current Stack, which other Stacks in the same project can consume using `upstream_input` blocks. You declare one `publish_output` block for each value you want to export from your Stack.

Published outputs enable you to share data between Stacks, such as VPC IDs, subnet information, or other infrastructure details that dependent Stacks need. When a published output changes, HCP Terraform automatically triggers runs for any downstream Stacks that depend on those outputs.

<Note>

The `publish_output` block requires Terraform version 1.10.0-alpha20241009 or higher.

</Note>

## Configuration model

The `publish_output` block supports the following arguments:

- [`publish_output "<LABEL>"`](#publish_output) &nbsp; block
  - [`value`](#value) &nbsp; expression
  - [`description`](#description) &nbsp; string

## Complete configuration

All available arguments are defined in the following `publish_output` block:

```hcl
publish_output "<LABEL>" {
  description = "<DESCRIPTION>"
  value       = <VALUE_EXPRESSION>
}
```

## Specification

A `publish_output` block supports the following configuration.

### `publish_output "<LABEL>"`

The label after the `publish_output` keyword is a name for the published output, which must be unique among all published outputs in the same deployment configuration file. The name can be any valid [identifier](/terraform/language/syntax/configuration#identifiers).

The following arguments are supported in a `publish_output` block:

| Argument | Description | Type | Required? |
| --- | --- | --- | --- |
| `value` | The value to export from your Stack. | Expression | Required |
| `description` | A human-friendly description for the output. | String | Optional |

### `value`

The `value` argument specifies the expression to export from your Stack. This can reference deployment outputs, local values, or any other expression that evaluates to a valid value.

```hcl
publish_output "vpc_id" {
  value = deployment.network.vpc_id
}
```

You can export various types of values:

- **Deployment outputs**: `deployment.deployment_name.output_name`
- **Local values**: `local.local_name`
- **Literal values**: Direct HCL values such as strings, numbers, or objects
- **Complex expressions**: Computed values using functions and operators

#### Summary

- Data type: Expression
- Default: None
- Required: Yes

### `description`

The `description` argument provides a human-friendly description for the published output. This helps other Stack maintainers understand the purpose and content of the exported value.

```hcl
publish_output "subnet_ids" {
  description = "List of private subnet IDs for application deployment"
  value       = deployment.network.private_subnet_ids
}
```

#### Summary

- Data type: String
- Default: None

## Examples

The following examples demonstrate common use cases for `publish_output` blocks.

### Basic published output

In the following example, a Stack publishes a VPC ID that other Stacks can consume:

```hcl
publish_output "vpc_id" {
  description = "The ID of the main VPC for this environment"
  value       = deployment.network.vpc_id
}
```

### Multiple published outputs

In the following example, a networking Stack publishes multiple values for other Stacks to consume:

```hcl
publish_output "vpc_id" {
  description = "The ID of the main VPC"
  value       = deployment.network.vpc_id
}

publish_output "private_subnet_ids" {
  description = "List of private subnet IDs for application deployment"
  value       = deployment.network.private_subnet_ids
}

publish_output "public_subnet_ids" {
  description = "List of public subnet IDs for load balancers"
  value       = deployment.network.public_subnet_ids
}

publish_output "security_group_id" {
  description = "Default security group ID for applications"
  value       = deployment.network.default_security_group_id
}
```

### Published output with local computation

In the following example, a published output uses a local value that computes a derived value:

```hcl
locals {
  availability_zones = [
    for subnet in deployment.network.private_subnets : subnet.availability_zone
  ]
}

publish_output "availability_zones" {
  description = "List of availability zones where subnets are deployed"
  value       = local.availability_zones
}
```

### Published output from multiple deployments

In the following example, a Stack with multiple deployments publishes outputs from a specific deployment:

```hcl
deployment "primary" {
  inputs = {
    region = "us-west-2"
  }
}

deployment "secondary" {
  inputs = {
    region = "us-east-1"
  }
}

publish_output "primary_vpc_id" {
  description = "VPC ID from the primary region deployment"
  value       = deployment.primary.vpc_id
}

publish_output "secondary_vpc_id" {
  description = "VPC ID from the secondary region deployment"
  value       = deployment.secondary.vpc_id
}
```

### Published output with complex expression

In the following example, a published output combines values from multiple sources:

```hcl
publish_output "database_config" {
  description = "Complete database configuration for applications"
  value = {
    endpoint = deployment.database.endpoint
    port     = deployment.database.port
    vpc_id   = deployment.network.vpc_id
    subnet_ids = deployment.network.database_subnet_ids
  }
}
```

### Environment-specific published outputs

In the following example, different deployments publish environment-specific configurations:

```hcl
deployment "staging" {
  inputs = {
    environment = "staging"
    instance_count = 1
  }
}

deployment "production" {
  inputs = {
    environment = "production"
    instance_count = 3
  }
}

publish_output "staging_config" {
  description = "Configuration details for staging environment"
  value = {
    load_balancer_url = deployment.staging.load_balancer_url
    database_endpoint = deployment.staging.database_endpoint
  }
}

publish_output "production_config" {
  description = "Configuration details for production environment"
  value = {
    load_balancer_url = deployment.production.load_balancer_url
    database_endpoint = deployment.production.database_endpoint
  }
}
```
