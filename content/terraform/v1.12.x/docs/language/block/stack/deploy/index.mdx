---
page_title: Deployment configuration overview for Terraform Stacks
description: Learn about deployment configuration files and the blocks you can define to deploy your Stack across multiple environments.
---

# Deployment configuration overview

Deployment configuration files define how HCP Terraform deploys your Stack's infrastructure. You write deployment configuration in `.tfdeploy.hcl` files.

> **Note**: HCP Terraform supports up to a maximum of 20 deployments per Stack.

## Background

In deployment configuration files, you specify how many times to deploy your Stack's infrastructure and with what input values. Each deployment runs in its own isolated agent, ensuring that changes in one deployment do not affect others. Your Stack must have at least one `deployment` block.

To learn more, refer to [Define deployment configuration](/terraform/language/stacks/deploy/config).

## Configuration blocks

You can define the following blocks in deployment configuration files:

- Use the [`deployment`](/terraform/language/block/stack/deployment/deployment) block to define how many times you want to deploy your Stack's infrastructure and with what input values.

- Use the [`deployment_group`](/terraform/language/block/stack/deployment/deployment_group) block to group deployments together to configure shared settings and auto-approval rules.

- Use the [`deployment_auto_approve`](/terraform/language/block/stack/deployment/deployment_auto_approve) block to define rules that automatically approve deployment plans based on specific conditions.

- Use the [`identity_token`](/terraform/language/block/stack/deployment/identity_token) block to define JSON Web Tokens (JWT) that Terraform generates for OIDC authentication with cloud providers.

- Use the [`store`](/terraform/language/block/stack/deployment/store) block to provide access to external secret stores and variable sets from your deployment configuration.

- Use the [`publish_output`](/terraform/language/block/stack/deployment/publish_output) block to export values from your Stack that other Stacks in the same project can consume.

- Use the [`upstream_input`](/terraform/language/block/stack/deployment/upstream_input) block to consume outputs from another Stack in the same project and use them as inputs in your current Stack.

- Use the [`locals`](/terraform/language/block/locals) block to define local values that you can reference within your deployment configuration.
