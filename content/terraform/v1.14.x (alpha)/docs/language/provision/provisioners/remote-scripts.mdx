---
page_title: Execute remote scripts
description: Learn how to execute scripts on a remote resource.
---

# Execute remote scripts

If the provider does not include a mechanism for executing scripts, we recommend opening a feature request ticket with the provider.

As a workaround, you can use a Terraform provisioner to execute scripts. Refer to [Use a provisioner](/terraform/language/provision/provisioners) for instructions on adding provisioners to the resource configuration.

When provisioners execute scripts on a remote system over SSH, they usually upload the script file to the remote system then use the default shell to execute it. Provisioners use this strategy because it allows you to use all of the typical scripting techniques supported by that shell, including preserving environment variable values and other context between script statements.

## Remote system paths

Terraform requires a suitable location in the remote filesystem where the provisioner can create the script file. By default, Terraform chooses a path containing a random number using the following patterns depending on how `target_platform` is set:

- `"unix"`: `/tmp/terraform_%RAND%.sh`
- `"windows"`: `C:/windows/temp/terraform_%RAND%.cmd`

In both cases, the provisioner replaces the sequence `%RAND%` with randomly-chosen decimal digits.

Provisioners cannot react directly to remote environment variables, such as `TMPDIR`, or use functions such as `mktemp` because they run on the system where Terraform is running, not on the remote system. As a result, you can configure the `script_path` argument in your `connection` block to override the path when your remote system doesn't use the filesystem layout expected by these default paths.

```hcl
connection {
  # ...
  script_path = "H:/terraform-temp/script_%RAND%.sh"
}
```

Provisioners replace the `%RAND%` sequence with randomly-selected decimal digits to reduce the likelihood of collisions between multiple provisioners running concurrently.

For Windows systems, we recommend using forward slashes instead of backslashes, despite the typical convention on Windows, because the Terraform language uses backslash as the quoted string escape character.

## Execute scripts using SCP over SSH

<Warning>

When using Terraform v1.0 and earlier, avoid using untrusted external values as part of the `script_path` argument.

</Warning>

Provisioners pass the specified script path, after `%RAND%` expansion, directly to the remote `scp` process, which interprets the path. With the default configuration of `scp` as distributed with OpenSSH, you can place temporary scripts in the home directory of the remote user by specifying a relative path:

```hcl
connection {
  type = "ssh"
  # ...
  script_path = "terraform_provisioner_%RAND%.sh"
}
```