### Explicit disable_mlock setting required for integrated storage ((#disable_mlock-config))

<!-- BEGIN: Vault:=v1.20.x -->

| Change       | Affected version | Vault edition
| ------------ | ---------------- | -------------
| Breaking     | 1.20.0           | All

<!-- END: Vault:=v1.20.x -->

Prior to Vault 1.20, the default setting for `disable_mlock` was `false`, but as
of Vault 1.20.0, `disable_mlock` is a required configuration setting for
clusters using integrated storage. The change to `disable_mlock` affects all
cluster types: primary, performance secondary, and DR secondary.

You do not need to update clusters that already set an explicit value for
`disable_mlock`. Servers running in `dev` mode` also start and run as usual
because the default configuration sets `disable_mlock` explicitly and `dev` mode
requires explicit values for `disable_mlock` when you provide a custom
configuration for the server.

### Recommendation

If your server configuration currently uses the default value for `disable_mlock`
(`false`), and you want to maintain that behavior, you must you explicitly set
`disable_mlock = false` in the outermost level of the server configuration for
all server nodes.

Additionally:

- **If you use autopilot for upgrades**, Vault adds nodes running 1.20.x to the
  cluster until it reaches a quorum of upgraded nodes. You must set an explicit
  value for `disable_mlock` on each of the nodes before upgrading.

- **If you use rolling upgrades**, Vault stops and upgrades standby nodes one at
  a time. You must update the configuration for each node before restarting the
  `vault` process on that node.

Refer to the [`mlock-config`](/vault/docs/configuration#disable_mlock) server
configuration documentation for more information.