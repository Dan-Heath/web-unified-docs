---
page_title: 'Plugin Development - Acceptance Testing: Import mode'
description: |-
  _Import_ mode is used for testing resource functionality to import existing
  infrastructure into a Terraform statefile, using real Terraform import logic.
---

# Acceptance Tests: Import mode

_Import_ is the workflow that enables users to bring existing infrastructure
into Terraform, without altering the infrastructure itself. For reference
information about the _Import_ workflow: [ LINK ] [ LINK ].

For example: each Amazon Web Services (AWS) account has a default Virtual
Private Cloud (VPC). This is created "outside" Terraform. When a user imports
this VPC into Terraform state, they can use the VPC as a first-class Terraform
resource: a building block for new infrastructure.

```terraform
provider "aws" {
  region = "us-east-2"
}

resource "aws_default_vpc" "instance" {
}

import {
  to = aws_default_vpc.instance
  id = "vpc-0f2b6430e7adc4681"
}
```

```
[ OUTPUT ]
```

```terraform
resource "aws_security_group" "allow_web" {
  name   = "allow_web"
  vpc_id = aws_default_vpc.instance.id
}
```

```
[ OUTPUT ]
```

In provider acceptance tests, _Import_ mode is used for testing resource
functionality to import existing infrastructure into a Terraform statefile,
using real Terraform import functionality.

At its essence, _Import_ mode runs the _Import_ workflow and checks: does a resource added by _Import_ match a resource added by _Lifecycle_ methods (i.e. _Create_)?

In common testing terminology, _Import_ mode uses a resource added to Terraform by _Create_ as the _expected result_.

_Import_ mode uses a resource added to Terraform by _Import_ as the _actual result_.

_Import_ mode runs a deep comparison of the two data structures. The test step passes :green_check_mark: only if the two data structures match.

## Reference

### Testing the `terraform import` workflow

#### _Import_ mode setup

| Field          |   | 
|----------------|---|
| `ImportState`  | `true` |
| `ResourceName`<br/>`ImportStateId`<br/>`ImportStateFunc` | Required. Identifies the resource to be imported. | 
| `ImportStateIdPrefix` | |
| `ImportStateChecks` | |

#### Configuration source

| Field               | |
|---------------------|-|
| <none> | |
| `Config` | |
| `ConfigFile` | |
| `ConfigDirectory` | |

#### `ImportStateVerify`

| Field               | |
|---------------------|-|
| `ImportStateVerify` | |
| `ImportStateVerifyIgnore` | 

```
[ Example ]
```

### Testing the plannable import workflow

| Field          |   | 
|----------------|---|
| `ImportState`  | `true` |
| `ImportStateKind` | `resource.ImportBlockWithID`
| `ResourceName`<br/>`ImportStateId`<br/>`ImportStateFunc` | Required. Identifies the resource to be imported. | 
| `ImportStateIdPrefix` | |
| `ImportPlanChecks` | |

#### Configuration source

| Field               | |
|---------------------|-|
| <none> | |
| `Config` | |
| `ConfigFile` | |
| `ConfigDirectory` | |

```
[ Example ]
```

#### Testing the plannable import workflow using a managed resource identity


| Field          |   | 
|----------------|---|
| `ImportState`  | `true` |
| `ImportStateKind` | `resource.ImportBlockWithID`
| `ResourceName`<br/>`ImportStateId`<br/>`ImportStateFunc` | Required. Identifies the resource to be imported. | 
| `ImportStateIdPrefix` | |
| `ImportPlanChecks` | |

#### Configuration source

| Field               | |
|---------------------|-|
| <none> | |
| `Config` | |
| `ConfigFile` | |
| `ConfigDirectory` | |

```
[ Example ]
```
